<mat-dialog-content>
  <div>
    <h4>Отправка тестового сообщения по шаблону:</h4>
  </div>
  <div style="font-size: 18px;">
    <p>{{sample.name}}</p>
  </div>
  <hr>
  <form #testEmailForm="ngForm" name="testEmailForm" (ngSubmit)="create(testEmailForm)">
    <div class="mt-2 mb-2">
      <app-custom-input placeholder="Акция - х..." [minlength]="1" [maxlength]="256" [required]="true" type="text"
        label="Заголовок (тема письма)" [(inputValue)]="emailTestSend.subject">
      </app-custom-input>
    </div>
    @for (item of emailList; track $index) {
    <div class="pt-2">
      <div class="row">
        <div class="col-10">
          <app-custom-input placeholder="name@example.com" [label]="'Электронная почта ' + ($index + 1)"
            [required]="true" autocomplete="email" type="email" patternMessage="Не является адресом электронной почты"
            [(inputValue)]="item.email">
            <i class="bi bi-envelope-at-fill"></i>
          </app-custom-input>
        </div>
        <div class="col-2">
          <button class="btn btn-danger" type="button" (click)="deleteItem(item)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill"
              viewBox="0 0 16 16">
              <path
                d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    }
    <div class="text-center mt-3">
      <button class="plus-btn" type="button" (click)="addToList()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
          class="bi bi-plus-square mb-1" viewBox="0 0 16 16">
          <path
            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
          <path
            d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
        </svg>
      </button>
    </div>
    @if (viewParamsFields)
    {
    <div class="mt-2 mb-2">
      <app-custom-input placeholder="000000000012" [maxlength]="12" [required]="false" type="text" label="Параметр L"
        [(inputValue)]="l">
      </app-custom-input>
    </div>
    <div class="mt-2 mb-2">
      <app-custom-input placeholder="12.0" [maxlength]="256" [required]="false" type="text" label="Параметр S"
        [(inputValue)]="s">
      </app-custom-input>
    </div>
    <div class="mt-2 mb-2">
      <app-custom-input placeholder="Какой то текст" [maxlength]="256" [required]="false" type="text" label="Параметр T"
        [(inputValue)]="t">
      </app-custom-input>
    </div>
    }
    <mat-checkbox [(ngModel)]="viewParamsFields" [ngModelOptions]="{standalone: true}" (change)="l=''; s=''; t=''"
      style="user-select: none;">Указать параметры</mat-checkbox>
    <hr>
    <div class="mb-2">
      <button class="btn btn-primary w-100" type="submit">Отправить</button>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button mat-dialog-close>Закрыть</button>
</mat-dialog-actions>